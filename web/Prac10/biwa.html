<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Visor NDWI Biwa</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <style> 
        body { margin: 0; padding: 0; background: #f0f0f0; } 
        #map { width: 100%; height: 100vh; background: white; }
        .legend-img {
            background: white; padding: 5px; border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.3); border: 2px solid #ccc;
        }
    </style>
</head>
<body>

    <div id="map"></div>

    <script>
        // --- 1. CONFIGURACIÓN (SOLO CAMBIA ESTO) ---
        // Pon aquí los píxeles que dice en Propiedades de la imagen
        var anchoImagen = 2522;  // Cambia esto (ej: 1920)
        var altoImagen = 1333;    // Cambia esto (ej: 1080)
        
        // ---------------------------------------------

        // Creamos el mapa en modo "SIMPLE" (sin coordenadas del mundo real)
        var map = L.map('map', {
            crs: L.CRS.Simple, // Esto desactiva la geografía
            minZoom: -2        // Permite alejar la imagen
        });

        // Definimos los límites basados en los píxeles
        var bounds = [[0, 0], [altoImagen, anchoImagen]];

        // Cargamos la imagen
        L.imageOverlay('biwa.png', bounds).addTo(map);

        // Ajustamos la vista para que la imagen ocupe toda la pantalla
        map.fitBounds(bounds);

        // LEYENDA (Igual que antes)
        var legend = L.control({position: 'bottomright'});
        legend.onAdd = function (map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML = '<img src="leyenda.png" class="legend-img" alt="Leyenda">';
            return div;
        };
        legend.addTo(map);

    </script>
</body>
</html>